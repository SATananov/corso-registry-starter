<!DOCTYPE html>
<html lang="bg" data-theme="dark">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>–ö–∞—Ç–∞–ª–æ–≥ ‚Äî Cane Corso BG</title>
  <link rel="icon" type="image/svg+xml" href="assets/logo.svg">
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header class="app-header">
    <div class="container brandbar">
      <a class="logo-wrap" href="index.html"><img src="assets/logo.svg" class="brand-logo" alt=""><div><h1>–†–µ–≥–∏—Å—Ç—ä—Ä CANE CORSO ‚Äî –ë—ä–ª–≥–∞—Ä–∏—è</h1><p class="motto-top">‚ÄúUNA QUAEDAM‚Äù ‚Äî A UNIQUE ONE</p></div></a>
      <div class="nav-right" id="navbar"><a class="btn link" href="login.html">–í—Ö–æ–¥</a><a class="btn primary" href="register.html">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</a></div>
    </div>
    <nav class="nav">
      <div class="container nav-row">
        <div class="nav-left">
          <ul>
            <li><a class="nav-link" href="index.html">–ù–∞—á–∞–ª–æ</a></li>
            <li><a class="nav-link active" href="catalog.html">–ö–∞—Ç–∞–ª–æ–≥</a></li>
            <li><a class="nav-link" href="index.html#about">–ó–∞ –Ω–∞—Å</a></li>
            <li><a class="nav-link" href="index.html#breed">–ü–æ—Ä–æ–¥–∞—Ç–∞</a></li>
            <li><a class="nav-link" href="index.html#contact">–ö–æ–Ω—Ç–∞–∫—Ç</a></li>
          </ul>
        </div>
        <div class="nav-tools"><button class="btn link" id="themeBtn">üåì</button><button class="btn link" id="burgerBtn">‚ò∞</button></div>
      </div>
    </nav>
  </header>

  <main class="container">
    <section>
      <h2>–ö–∞—Ç–∞–ª–æ–≥</h2>
      <div style="display:flex;gap:8px;flex-wrap:wrap;margin-bottom:12px">
        <input id="q" class="input" placeholder="–¢—ä—Ä—Å–∏ –ø–æ –∏–º–µ‚Ä¶">
        <button id="search" class="btn">–¢—ä—Ä—Å–∏</button>
      </div>
      <div id="grid" class="grid"></div>
    </section>
  </main>

  <footer class="footer"><small>¬© 2025 Cane Corso Registry BG ¬∑ MIT</small></footer>

  <script type="module">
    import { bootstrap } from './js/app.js';
    import { listApprovedDogs } from './js/api.js';
    bootstrap();

    const grid = document.getElementById('grid');
    const q = document.getElementById('q');
    document.getElementById('search').onclick = ()=> load();

    async function load(){
      grid.innerHTML = `<div class="skeleton" style="height:120px;border-radius:12px"></div>`;
      const items = await listApprovedDogs(q.value.trim());
      grid.innerHTML = items.length ? items.map(d => `
        <article class="dog-card">
          <img src="${d.cover_url || 'assets/placeholder.png'}" alt="${d.name||''}">
          <div class="body">
            <h3 style="margin:0">${d.name||'–ë–µ–∑ –∏–º–µ'}</h3>
            <div class="muted" style="margin:.2rem 0">${d.sex==='female'?'‚ôÄ –∂–µ–Ω—Å–∫–æ':'‚ôÇ –º—ä–∂–∫–æ'} ¬∑ ${d.color||'‚Äî'} ¬∑ ${d.city||'‚Äî'}</div>
            <a class="btn" href="details.html?id=${d.id}">–î–µ—Ç–∞–π–ª–∏</a>
          </div>
        </article>
      `).join('') : `<div class="empty">–ù—è–º–∞ –æ–¥–æ–±—Ä–µ–Ω–∏ –∑–∞–ø–∏—Å–∏.</div>`;
    }
    load();
  </script>
</body>
</html>
